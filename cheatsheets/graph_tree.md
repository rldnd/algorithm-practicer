# 그래프 [Graph]

- 대표적인 비선형 자료구조
- 여러 개의 정점(노드)과 이들을 연결하는 간선으로 이루어진 자료구조

> **비선형자료구조**
> 데이터를 일렬로 구성하지 않고, 자료 순서나 관계가 복잡한 자료구조
> ex) 트리, 그래프, 맵, 해시테이블

## 그래프의 구성요소

- 정점(Vertex or Node) : 데이터를 저장하는 위치
- 간선(Edge) : 정점을 연결하는 선
- 인접 정점 : 간선에 의해 직접 연결된 정점

## 그래프의 특징

### 무방향성 / 방향성

그래프의 간선은 방향성이 있거나 없을 수 있다

- 간선의 방향이 없는 경우 : 일방통행이 없음
- 간선의 방향이 있는 경우 : 일방통행이 있음 (한쪽 방향으로만 이동 가능)

### 가중치

간선에 가중치를 부여할 수 있다. (ex. 거리, 비용, 우선순위 등)

## 그래프의 종류

**무방향 그래프** : 간선에 방향이 없는 그래프

**방향 그래프** : 간선에 방향이 있는 그래프

**가중치 그래프** : 간선에 가중치가 있는 그래프

**이분 그래프** : 무방향 그래프에서 노드를 두 그룹으로 나누었을 때 같은 그룹 내에선 인접하지 않고, 다른 그룹과만 인접하는 그래프

**비순환 그래프** : 사이클이 없는 그래프

**완전 그래프** : 모든 노드가 서로 연결된 그래프

**부분 그래프** : 주어진 그래프의 일부 노드와 간선으로 이루어진 그래프

**연결 그래프** : 무방향 그래프에서 모든 노드 사이에 경로가 존재하는 그래프

**비연결 그래프** : 무방향 그래프에서 연결 그래프가 아닌 그래프

## 그래프의 장단점

### 장점

- 복잡한 관계를 직관적으로 표현 가능
- 네트워크 구조 표현 가능 및 경로 문제 등 풀이 가능

### 단점

- 데이터의 규모와 계산 비용이 비례

# 트리 [Tree]

- 그래프의 일부로, 노드들이 나무 가지처럼 연결된 비선형 계층적 자료구조
- 트리 내에 트리가 있는 재귀적 자료구조

## 용어 정리

**노드** : 트리를 구성하는 기본 요소

**간선** : 노드와 노드 간의 연결선

**루트 노드** : 트리 구조에서 부모 노드가 없는 최상위 노드

**부모 노드** : 자식 노드를 가지고 있는 노드

**자식 노드** : 부모 노드의 하위 노드

**형제 노드** : 같은 부모를 가지는 노드

**리프 노드** : 자식 노드가 없는 노드, 가장 끝에 위치한 노드

**깊이 (depth)** : 루트에서 어떤 노드까지의 간선의 수

**높이 (height)** : 어떤 노드에서 리프 노드까지 가장 긴 경로의 간선의 수

**차수** : 어떤 노드가 가지고 있는 자식 노드의 개수

## 트리의 종류

### 이진 트리

비어있거나, 루트와 왼쪽 서브트리, 오른쪽 서브트리라고 불리는 두 개의 서로소의 이진트리로 구성되어 있는 노드들의 유한 집합

즉, 각 노드가 최대 2개의 자식 노드를 갖는다

### 완전 이진 트리

왼쪽 자식노드부터 채워지며 마지막 노드를 제외하고는 모든 자식노드가 채워져 있는 트리

### 힙

부모 자식 노드 간의 대소 관계가 정의되어 있는 트리 (형제 간의 대소관계 X)

- 최대 힙 : 부모노드의 값이 자식보다 항상 큰 힙

- 최소 힙 : 부모노드의 값이 자식보다 항상 작은 힙

### 이진 탐색 트리

이진트리의 구조와 자료에 검색/삭제/삽입이 효율적이게 정렬의 개념이 추가된 트리

이진 탐색 트리는 저장과 검색에 평균 logN 소요

- 부모 노드 왼쪽 자식 노드엔 부모보다 작은 노드, 오른쪽에는 부모보다 큰 노드가 존재

### 자가 균형 이진 탐색 트리

이진트리가 편향되거나 균형이 무너지면 N에 근접한 시간이 소요 (input이 이미 정렬된 경우)
따라서 고안된 균형잡힌 이진 탐색 트리

### [AVL 트리](https://yoongrammer.tistory.com/72)

RB트리보다 엄격하게 균형 유지

**특징**

- 왼쪽, 오른쪽 서브 트리의 높이 차이가 최대 1

- 어떤 시점에서 높이 차이가 1보다 커지면 회전을 통해 균형

- 높이를 logN으로 유지, 삽입/검색/삭제의 시간 복잡도 O(logN)

### [Red-Black 트리](https://code-lab1.com/red-black-tree/)

AVL 트리와 달리 항상 일정한 실행 시간 보장

**조건**

1. 모든 노드는 빨간색 혹은 검은색
2. 루트 노드는 검은색
3. 모든 리프 노드(NIL)들은 검은색
4. 빨간색 노드의 자식은 검은색
5. 모든 리프 노드에서 Black Depth는 같다.

### RB 트리 vs AVL 트리

RB 트리는 노드에 색을 부여하여 일정한 규칙 안에서 재구조화

AVL 트리는 각 노드의 좌우 자식의 높이 차이를 비교하여 2 이상ㅇ 차이날 때 재구조화

- 데이터가 적은 경우

  - 삽입 : RB 트리의 평균 회전수가 AVL 트리에 비해 적어 RB 트리가 유리
  - 탐색 : AVL 트리의 높이가 더 낮아 AVL 트리가 유리
  - 삭제 : 최악의 경우 AVL 트리의 회전수가 더 많아 RB 트리가 유리

- 데이터가 많은 경우
  - 삽입 : 삽입하기 전 어디에 데이터를 삽입할지 탐색이 필요하므로 높이가 낮은 AVL 트리가 유리
  - 탐색 : AVL 트리의 높이가 더 낮아 AVL 트리가 유리
  - 삭제 : 최악의 경우 AVL 트리의 회전수가 더 많아 RB 트리가 유리 (할 수도 있음)
